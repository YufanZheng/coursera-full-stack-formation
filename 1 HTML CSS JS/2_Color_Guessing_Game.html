<!DOCTYPY HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Guessing Game</title>
  <base href="/">
  
  <meta name="author" content="Yufan Zheng">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <script type="text/javascript">
      var colors = ["black", "brown", "blue", "green", "gold", "orange", "pink", "purple", "red", "violet", "white", "yellow" ];
      
      function initRandomColor(){
          var index = Math.floor(Math.random()*(colors.length));
          return colors[index];
      }
      
      function guessColor(){
          var color = prompt('I\'m thinking of one of these colors:\n\n' + 
                             colors.join(", ") + '\n\n' +
                             'What color am I thinking of?');
          return color.toLowerCase().trim();
      }
      
      function showErrorMessage(guess_color, target_color){
          if( !colors.includes(guess_color) ){
              alert('Sorry, I don\'t recognize your color.\n\n' + 
                    'Please try agian.');
          } else if( guess_color < target_color ){
              alert('Sorry, your color is not correct!\n\n' +
                    'Hint: your color is alphabetically lower than mine.\n\n' +
                    'Please try again.');
          } else if( guess_color > target_color ){
              alert('Sorry, your color is not correct!\n\n' +
                    'Hint: your color is alphabetically higher than mine.\n\n' +
                    'Please try again.');
          }
      }
      
      function doGame(){
          var target_color = initRandomColor();
          var finished = false;
          var nb_guesses = 0;
          while(!finished){
              var color = guessColor();
              nb_guesses++;
              if(color!=target_color){
                  showErrorMessage( color, target_color );  
              } else {
                  document.body.style.backgroundColor = target_color;
                  finished = true;
                  alert('Congratulations! You have guessed the color!\n\n' + 
                        'It takes you ' + nb_guesses + ' guesses to finish the game!\n\n' + 
                        'You can see the color in background.');
              }
          }
      }
  </script>

</head>
<body onload="doGame()">
</body>
</html>